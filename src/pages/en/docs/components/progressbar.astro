---
import DocLayout from "@layouts/DocLayout.astro";
import { Code } from "astro:components";
import ProgressBar from "@components/ui/ProgressBar.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
---

<DocLayout 
  title="ProgressBar Component" 
  description="Progress bar with variants and colors" 
  variant="initial"
>
  <h1 id="progressbar-component">ProgressBar Component</h1>

  <p>
     The <code class="inline-code">ProgressBar</code> component displays a progress bar
     with support for design variants, colors, sizes, and visual effects like stripes and animations.
  </p>

  <div class="toc">
    <h2>Table des matières</h2>
    <ul>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#props">Props</a></li>
      <li><a href="#basic">Utilisation basique</a></li>
      <li><a href="#variants">Variants</a></li>
      <li><a href="#colors">Couleurs</a></li>
      <li><a href="#sizes">Tailles</a></li>
      <li><a href="#labels">Avec labels</a></li>
      <li><a href="#striped">Rayures et animations</a></li>
      <li><a href="#accessibility">Accessibilité</a></li>
    </ul>
  </div>
    <h2 id="installation">Installation</h2>

    <Code
      lang="astro"
      code={`import ProgressBar from '@components/ui/ProgressBar.astro';`}
    />
  <h2 id="installation">Installation</h2>

  <Code
    lang="astro"
    code={`import ProgressBar from '@components/ui/ProgressBar.astro';`}
  />

  <h2 id="props">Props</h2>

  <Table variant="initial">
    <TableHeader>
      <TableRow>
        <TableHead>Prop</TableHead>
        <TableHead>Type</TableHead>
        <TableHead>Default</TableHead>
        <TableHead>Description</TableHead>
      </TableRow>
    </TableHeader>
    <TableBody>
      <TableRow>
        <TableCell><code class="inline-code">variant</code></TableCell>
        <TableCell><code class="inline-code">"initial" | "retro" | "modern" | "futuristic"</code></TableCell>
        <TableCell><code class="inline-code">"initial"</code></TableCell>
          <TableCell>The visual style of the progress bar</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">color</code></TableCell>
        <TableCell><code class="inline-code">"default" | "primary" | "secondary" | "accent"</code></TableCell>
        <TableCell><code class="inline-code">"default"</code></TableCell>
          <TableCell>The color of the progress bar</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">value</code></TableCell>
        <TableCell><code class="inline-code">number</code></TableCell>
        <TableCell><em>Requis</em></TableCell>
          <TableCell>The current progress value</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">max</code></TableCell>
        <TableCell><code class="inline-code">number</code></TableCell>
        <TableCell><code class="inline-code">100</code></TableCell>
          <TableCell>The maximum value</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">size</code></TableCell>
        <TableCell><code class="inline-code">"sm" | "md" | "lg"</code></TableCell>
        <TableCell><code class="inline-code">"md"</code></TableCell>
          <TableCell>The height of the bar</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">showLabel</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">false</code></TableCell>
          <TableCell>Show percentage</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">label</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">undefined</code></TableCell>
          <TableCell>Custom label to display</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">striped</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">false</code></TableCell>
          <TableCell>Show diagonal stripes</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">animated</code></TableCell>
        <TableCell><code class="inline-code">boolean</code></TableCell>
        <TableCell><code class="inline-code">false</code></TableCell>
          <TableCell>Animate stripes (requires striped)</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">className</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">""</code></TableCell>
          <TableCell>Additional CSS classes</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code class="inline-code">ariaLabel</code></TableCell>
        <TableCell><code class="inline-code">string</code></TableCell>
        <TableCell><code class="inline-code">undefined</code></TableCell>
          <TableCell>Custom accessibility label</TableCell>
      </TableRow>
    </TableBody>
  </Table>

  <h2 id="basic">Utilisation basique</h2>

  <div class="demo-section">
    <ProgressBar value={30} />
    <ProgressBar value={60} />
    <ProgressBar value={100} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar value={30} />
<ProgressBar value={60} />
<ProgressBar value={100} />`}
  />

  <h2 id="variants">Variants</h2>

  <h3>Initial</h3>
  <div class="demo-section">
    <ProgressBar variant="initial" value={65} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar variant="initial" value={65} />`}
  />

  <h3>Retro</h3>
  <div class="demo-section">
    <ProgressBar variant="retro" value={65} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar variant="retro" value={65} />`}
  />

  <h3>Modern</h3>
  <div class="demo-section">
    <ProgressBar variant="modern" value={65} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar variant="modern" value={65} />`}
  />

  <h3>Futuristic</h3>
  <div class="demo-section">
    <ProgressBar variant="futuristic" value={65} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar variant="futuristic" value={65} />`}
  />

  <h2 id="colors">Couleurs</h2>

  <div class="demo-section">
    <ProgressBar color="default" value={50} />
    <ProgressBar color="primary" value={50} />
    <ProgressBar color="secondary" value={50} />
    <ProgressBar color="accent" value={50} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar color="default" value={50} />
<ProgressBar color="primary" value={50} />
<ProgressBar color="secondary" value={50} />
<ProgressBar color="accent" value={50} />`}
  />

  <h2 id="sizes">Tailles</h2>

  <div class="demo-section">
    <ProgressBar size="sm" value={60} />
    <ProgressBar size="md" value={60} />
    <ProgressBar size="lg" value={60} />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar size="sm" value={60} />
<ProgressBar size="md" value={60} />
<ProgressBar size="lg" value={60} />`}
  />

  <h2 id="labels">Avec labels</h2>

  <h3>Pourcentage automatique</h3>
  <div class="demo-section">
    <ProgressBar value={75} showLabel />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar value={75} showLabel />`}
  />

  <h3>Label personnalisé</h3>
  <div class="demo-section">
    <ProgressBar value={45} label="45 sur 100 fichiers" />
    <ProgressBar value={3} max={10} label="3 / 10 étapes" />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar value={45} label="45 sur 100 fichiers" />
<ProgressBar value={3} max={10} label="3 / 10 étapes" />`}
  />

  <h2 id="striped">Rayures et animations</h2>

  <h3>Avec rayures</h3>
  <div class="demo-section">
    <ProgressBar value={70} striped />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar value={70} striped />`}
  />

  <h3>Rayures animées</h3>
  <div class="demo-section">
    <ProgressBar value={70} striped animated />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar value={70} striped animated />`}
  />

  <h3>Combinaisons</h3>
  <div class="demo-section">
    <ProgressBar 
      variant="modern" 
      color="primary" 
      value={80} 
      striped 
      animated 
      showLabel 
    />
    <ProgressBar 
      variant="futuristic" 
      color="accent" 
      value={60} 
      size="lg"
      striped 
      animated 
      label="Téléchargement en cours..."
    />
  </div>

  <Code
    lang="astro"
    code={`<ProgressBar 
  variant="modern" 
  color="primary" 
  value={80} 
  striped 
  animated 
  showLabel 
/>
<ProgressBar 
  variant="futuristic" 
  color="accent" 
  value={60} 
  size="lg"
  striped 
  animated 
  label="Téléchargement en cours..."
/>`}
  />

  <h2 id="accessibility">Accessibilité</h2>

  <p>
    Le composant <code class="inline-code">ProgressBar</code> utilise le rôle ARIA
    <code class="inline-code">progressbar</code> et inclut les attributs nécessaires :
  </p>

  <ul>
    <li>
      <code class="inline-code">role="progressbar"</code> : indique qu'il s'agit d'une barre de progression
    </li>
    <li>
      <code class="inline-code">aria-valuenow</code> : la valeur actuelle
    </li>
    <li>
      <code class="inline-code">aria-valuemin</code> : la valeur minimale (0)
    </li>
    <li>
      <code class="inline-code">aria-valuemax</code> : la valeur maximale
    </li>
    <li>
      <code class="inline-code">aria-label</code> : description textuelle de la progression
    </li>
  </ul>

  <Code
    lang="astro"
    code={`<ProgressBar 
  value={75} 
  ariaLabel="Téléchargement du fichier: 75% complété"
/>`}
  />
</DocLayout>

<style>
  .demo-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--color-surface);
    border-radius: var(--radius-md);
    margin: 1.5rem 0;
  }

  .toc {
    background: var(--color-surface);
    padding: 1.5rem;
    border-radius: var(--radius-md);
    margin: 1.5rem 0;
  }

  .toc h2 {
    margin-top: 0;
    font-size: 1.25rem;
  }

  .toc ul {
    margin: 0;
    padding-left: 1.5rem;
  }

  .toc li {
    margin: 0.5rem 0;
  }

  h2 {
    margin-top: 3rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--color-border);
  }

  h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .inline-code {
    background: var(--color-surface);
    padding: 0.2rem 0.4rem;
    border-radius: var(--radius-sm);
    font-size: 0.9em;
    font-family: var(--font-mono);
  }
</style>

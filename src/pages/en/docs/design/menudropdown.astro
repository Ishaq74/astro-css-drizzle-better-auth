---
import DocLayout from "@layouts/DocLayout.astro";
import MenuDropdown from "@components/ui/MenuDropdown.astro";
import Table from "@components/ui/Table/Table.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableRow from "@components/ui/Table/TableRow.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
import { Code } from "astro:components";
---

<DocLayout title="MenuDropdown" description="Accessible, multi-level dropdown menu component, design system compliant" variant="initial">
  <h1 id="menu-dropdown">MenuDropdown</h1>

  <p>
    The <code class="inline-code">MenuDropdown</code> component is an accessible,
    multi-level dropdown menu implemented with native HTML (<code>details</code>/<code>summary</code>) for
    keyboard-first interaction and minimal JS surface.
  </p>

  <h2 id="installation">Installation</h2>

  <p>The component is available in <code class="inline-code">src/components/ui/MenuDropdown.astro</code></p>

  <Code
    lang="typescript"
    code={`import MenuDropdown from '@components/ui/MenuDropdown.astro';`}
  />

  <h2 id="props">Props</h2>

  <div class="props-table">
    <Table striped>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>Default</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code class="inline-code">items</code></TableCell>
          <TableCell>MenuDropdownItem[]</TableCell>
          <TableCell>—</TableCell>
          <TableCell>Menu structure (required). Each item: <code class="inline-code">{`{ label, href?, icon?, children? }`}</code></TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">variant</code></TableCell>
          <TableCell>initial | retro | modern | futuristic</TableCell>
          <TableCell>initial</TableCell>
          <TableCell>Visual style variant</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">position</code></TableCell>
          <TableCell>bottom-left | bottom-right | top-left | top-right</TableCell>
          <TableCell>bottom-left</TableCell>
          <TableCell>Menu placement relative to trigger</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">triggerLabel</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>"Menu"</TableCell>
          <TableCell>Accessible label for the trigger</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">triggerIcon</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>—</TableCell>
          <TableCell>Optional icon rendered inside the trigger</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code class="inline-code">className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>—</TableCell>
          <TableCell>Additional CSS classes</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </div>

  <h2 id="variants">Variants</h2>

  <h3>Initial (default)</h3>
  <div class="example-section">
    <MenuDropdown items={[{ label: 'One', href: '#' }, { label: 'Two', href: '#' }]} variant="initial" />
  </div>

  <Code
    lang="astro"
    code={`<MenuDropdown items={[{ label: 'One', href: '#' }, { label: 'Two', href: '#' }]} variant="initial" />`}
  />

  <h3>Retro</h3>
  <div class="example-section">
    <MenuDropdown items={[{ label: 'One' }, { label: 'Two' }]} variant="retro" />
  </div>

  <Code lang="astro" code={`<MenuDropdown items={[{ label: 'One' }, { label: 'Two' }]} variant="retro" />`} />

  <h3>Modern</h3>
  <div class="example-section">
    <MenuDropdown items={[{ label: 'One' }, { label: 'Two' }]} variant="modern" />
  </div>

  <h3>Futuristic</h3>
  <div class="example-section">
    <MenuDropdown items={[{ label: 'One' }, { label: 'Two' }]} variant="futuristic" />
  </div>

  <h2 id="usage">Usage</h2>

  <p>Nested menus are supported by providing a <code>children</code> array on an item.</p>

  <Code
    lang="astro"
    code={`<MenuDropdown
  items={[
    { label: 'Home', href: '/' },
    { label: 'Products', children: [
      { label: 'Category 1', href: '/cat1' },
      { label: 'Category 2', href: '/cat2' },
    ]},
    { label: 'Contact', href: '/contact' },
  ]}
  triggerLabel="Menu"
/>`}
  />

  <h2 id="accessibility">Accessibility</h2>
  <ul>
    <li>Native keyboard interaction via <code>details</code>/<code>summary</code>.</li>
    <li>Use of ARIA roles (<code>role="menu"</code>, <code>role="menuitem"</code>).</li>
    <li>Focusable items and visible focus styles.</li>
  </ul>
</DocLayout>

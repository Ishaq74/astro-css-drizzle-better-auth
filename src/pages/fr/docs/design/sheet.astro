---
import DocLayout from '@layouts/DocLayout.astro';
import SheetComponent from '@components/ui/Sheet/Sheet.astro';
import SheetTrigger from '@components/ui/Sheet/SheetTrigger.astro';
import SheetContent from '@components/ui/Sheet/SheetContent.astro';
import SheetHeader from '@components/ui/Sheet/SheetHeader.astro';
import SheetTitle from '@components/ui/Sheet/SheetTitle.astro';
import SheetDescription from '@components/ui/Sheet/SheetDescription.astro';
import SheetFooter from '@components/ui/Sheet/SheetFooter.astro';
import SheetClose from '@components/ui/Sheet/SheetClose.astro';
import Button from '@components/ui/Button.astro';
import Table from '@components/ui/Table/Table.astro';
import TableHeader from '@components/ui/Table/TableHeader.astro';
import TableBody from '@components/ui/Table/TableBody.astro';
import TableRow from '@components/ui/Table/TableRow.astro';
import TableHead from '@components/ui/Table/TableHead.astro';
import TableCell from '@components/ui/Table/TableCell.astro';
---

<DocLayout 
  title="Panneau Sheet" 
  description="Un composant de panneau coulissant en pur CSS qui appara√Æt depuis le bord de l'√©cran."
  variant="initial"
>
  <section>
    <h2>Vue d'ensemble</h2>
    <p>
      Le composant Sheet cr√©e un panneau coulissant accessible en <strong>pur CSS</strong>, sans JavaScript. 
      Il utilise un checkbox cach√© et la pseudo-classe <code>:has()</code> pour g√©rer l'√©tat ouvert/ferm√©. 
      Supporte plusieurs c√¥t√©s (haut, droite, bas, gauche) et fonctionne parfaitement avec les tokens de votre syst√®me de design.
    </p>
    <p>
      <strong>üéâ Z√©ro JavaScript !</strong> Tout fonctionne avec CSS moderne uniquement.
    </p>
  </section>

  <section>
    <h2>Utilisation de base</h2>
    <div class="example">
      <SheetComponent id="sheet-demo-1">
        <SheetTrigger htmlFor="sheet-demo-1">
          <Button>Ouvrir le Sheet</Button>
        </SheetTrigger>
        <SheetContent side="right" sheetId="sheet-demo-1">
          <SheetHeader>
            <SheetTitle>Titre du Sheet</SheetTitle>
            <SheetDescription>
              Ceci est une description du contenu du panneau sheet.
            </SheetDescription>
          </SheetHeader>
          <div style="padding: var(--space-4);">
            <p>Votre contenu va ici...</p>
          </div>
          <SheetFooter>
            <SheetClose htmlFor="sheet-demo-1">
              <Button>Fermer</Button>
            </SheetClose>
          </SheetFooter>
        </SheetContent>
      </SheetComponent>
    </div>
    
    <pre><code class="language-astro">{`---
import { Sheet, SheetTrigger, SheetContent, SheetHeader, SheetTitle, SheetDescription, SheetFooter, SheetClose } from '@components/ui/Sheet';
import Button from '@components/ui/Button.astro';
---

<SheetComponent id="my-sheet">
  <SheetTrigger htmlFor="my-sheet">
    <Button>Ouvrir le Sheet</Button>
  </SheetTrigger>
  <SheetContent side="right" sheetId="my-sheet">
    <SheetHeader>
      <SheetTitle>Titre du Sheet</SheetTitle>
      <SheetDescription>
        Ceci est une description du contenu du panneau sheet.
      </SheetDescription>
    </SheetHeader>
    <div style="padding: var(--space-4);">
      <p>Votre contenu va ici...</p>
    </div>
    <SheetFooter>
      <SheetClose htmlFor="my-sheet">
        <Button>Fermer</Button>
      </SheetClose>
    </SheetFooter>
  </SheetContent>
</SheetComponent>`}</code></pre>
  </section>

  <section>
    <h2>Props de Sheet</h2>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>D√©faut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code>id</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell><strong>Requis</strong> - ID unique pour le checkbox cach√©</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>variant</code></TableCell>
          <TableCell>'initial' | 'retro' | 'modern' | 'futuristic'</TableCell>
          <TableCell>'initial'</TableCell>
          <TableCell>Variante de style visuel</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>''</TableCell>
          <TableCell>Classes CSS suppl√©mentaires</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </section>

  <section>
    <h2>Props de SheetTrigger & SheetClose</h2>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>D√©faut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code>htmlFor</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell><strong>Requis</strong> - ID du checkbox (m√™me que Sheet.id)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>variant</code></TableCell>
          <TableCell>'initial' | 'retro' | 'modern' | 'futuristic'</TableCell>
          <TableCell>'initial'</TableCell>
          <TableCell>Variante de style visuel</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>color</code></TableCell>
          <TableCell>'default' | 'primary' | 'secondary' | 'accent'</TableCell>
          <TableCell>'default'</TableCell>
          <TableCell>Couleur du bouton</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>''</TableCell>
          <TableCell>Classes CSS suppl√©mentaires</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </section>

  <section>
    <h2>Props de SheetContent</h2>
    <Table>
      <TableHeader>
        <TableRow>
          <TableHead>Prop</TableHead>
          <TableHead>Type</TableHead>
          <TableHead>D√©faut</TableHead>
          <TableHead>Description</TableHead>
        </TableRow>
      </TableHeader>
      <TableBody>
        <TableRow>
          <TableCell><code>sheetId</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>-</TableCell>
          <TableCell><strong>Requis</strong> - ID du checkbox (m√™me que Sheet.id)</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>side</code></TableCell>
          <TableCell>'top' | 'right' | 'bottom' | 'left'</TableCell>
          <TableCell>'right'</TableCell>
          <TableCell>C√¥t√© depuis lequel le sheet glisse</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>variant</code></TableCell>
          <TableCell>'initial' | 'retro' | 'modern' | 'futuristic'</TableCell>
          <TableCell>'initial'</TableCell>
          <TableCell>Variante de style visuel</TableCell>
        </TableRow>
        <TableRow>
          <TableCell><code>className</code></TableCell>
          <TableCell>string</TableCell>
          <TableCell>''</TableCell>
          <TableCell>Classes CSS suppl√©mentaires</TableCell>
        </TableRow>
      </TableBody>
    </Table>
  </section>

  <section>
    <h2>Variations de c√¥t√©</h2>
    
    <h3>C√¥t√© droit (par d√©faut)</h3>
    <div class="example">
      <SheetComponent id="sheet-right">
        <SheetTrigger htmlFor="sheet-right">
          <Button>Ouvrir depuis la droite</Button>
        </SheetTrigger>
        <SheetContent side="right" sheetId="sheet-right">
          <SheetHeader>
            <SheetTitle>Sheet droit</SheetTitle>
            <SheetDescription>S'ouvre depuis la droite</SheetDescription>
          </SheetHeader>
          <div style="padding: var(--space-4);">
            <p>Contenu depuis la droite...</p>
          </div>
          <SheetFooter>
            <SheetClose htmlFor="sheet-right">
              <Button>Fermer</Button>
            </SheetClose>
          </SheetFooter>
        </SheetContent>
      </SheetComponent>
    </div>

    <h3>C√¥t√© gauche</h3>
    <div class="example">
      <SheetComponent id="sheet-left">
        <SheetTrigger htmlFor="sheet-left">
          <Button>Ouvrir depuis la gauche</Button>
        </SheetTrigger>
        <SheetContent side="left" sheetId="sheet-left">
          <SheetHeader>
            <SheetTitle>Sheet gauche</SheetTitle>
            <SheetDescription>S'ouvre depuis la gauche</SheetDescription>
          </SheetHeader>
          <div style="padding: var(--space-4);">
            <p>Contenu depuis la gauche...</p>
          </div>
          <SheetFooter>
            <SheetClose htmlFor="sheet-left">
              <Button>Fermer</Button>
            </SheetClose>
          </SheetFooter>
        </SheetContent>
      </SheetComponent>
    </div>

    <h3>C√¥t√© haut</h3>
    <div class="example">
      <SheetComponent id="sheet-top">
        <SheetTrigger htmlFor="sheet-top">
          <Button>Ouvrir depuis le haut</Button>
        </SheetTrigger>
        <SheetContent side="top" sheetId="sheet-top">
          <SheetHeader>
            <SheetTitle>Sheet du haut</SheetTitle>
            <SheetDescription>S'ouvre depuis le haut</SheetDescription>
          </SheetHeader>
          <div style="padding: var(--space-4);">
            <p>Contenu depuis le haut...</p>
          </div>
          <SheetFooter>
            <SheetClose htmlFor="sheet-top">
              <Button>Fermer</Button>
            </SheetClose>
          </SheetFooter>
        </SheetContent>
      </SheetComponent>
    </div>

    <h3>C√¥t√© bas</h3>
    <div class="example">
      <SheetComponent id="sheet-bottom">
        <SheetTrigger htmlFor="sheet-bottom">
          <Button>Ouvrir depuis le bas</Button>
        </SheetTrigger>
        <SheetContent side="bottom" sheetId="sheet-bottom">
          <SheetHeader>
            <SheetTitle>Sheet du bas</SheetTitle>
            <SheetDescription>S'ouvre depuis le bas</SheetDescription>
          </SheetHeader>
          <div style="padding: var(--space-4);">
            <p>Contenu depuis le bas...</p>
          </div>
          <SheetFooter>
            <SheetClose htmlFor="sheet-bottom">
              <Button>Fermer</Button>
            </SheetClose>
          </SheetFooter>
        </SheetContent>
      </SheetComponent>
    </div>
  </section>

  <section>
    <h2>Accessibilit√©</h2>
    <ul>
      <li><strong>Pure CSS :</strong> Aucun JavaScript requis, fonctionne m√™me si JS est d√©sactiv√©</li>
      <li><strong>Checkbox pattern :</strong> Utilise un input checkbox cach√© + label pour l'√©tat</li>
      <li><strong>Pseudo-classe :has() :</strong> CSS moderne pour d√©tecter l'√©tat checked</li>
      <li><strong>Attributs ARIA :</strong> role="dialog", aria-modal="true"</li>
      <li><strong>Fermeture par overlay :</strong> Cliquer sur l'overlay (fond sombre) ferme automatiquement le sheet</li>
      <li><strong>Support des lecteurs d'√©cran :</strong> √âtiquetage appropri√© avec SheetTitle et SheetDescription</li>
    </ul>
  </section>

  <section>
    <h2>Comment √ßa marche ?</h2>
    <p>Le Sheet Panel utilise une technique CSS pure ing√©nieuse :</p>
    <ol>
      <li>Un <code>checkbox</code> cach√© (display: none) stocke l'√©tat ouvert/ferm√©</li>
      <li>Le <code>SheetTrigger</code> est un <code>&lt;label&gt;</code> qui coche le checkbox</li>
      <li>La pseudo-classe <code>:has(.sheet-toggle:checked)</code> d√©tecte l'√©tat</li>
      <li>Le CSS applique les transformations (translateX/Y) selon l'√©tat</li>
      <li>Le <code>SheetClose</code> et l'overlay sont des labels qui d√©cochent le checkbox</li>
    </ol>
    <p><strong>Avantages :</strong> Z√©ro JavaScript, performances optimales, fonctionne m√™me avec JS d√©sactiv√© !</p>
  </section>

  <section>
    <h2>Tokens de design</h2>
    <p>Le composant Sheet utilise les tokens de design suivants :</p>
    <ul>
      <li><code>--color-surface</code> - Couleur de fond</li>
      <li><code>--color-border</code> - Couleur de bordure</li>
      <li><code>--color-text-primary</code> - Couleur du texte du titre</li>
      <li><code>--color-text-secondary</code> - Couleur du texte de description</li>
      <li><code>--shadow-lg</code> - Ombre port√©e</li>
      <li><code>--space-*</code> - Tokens d'espacement</li>
      <li><code>--font-size-*</code> - √âchelle typographique</li>
    </ul>
  </section>

  <style>
    .example {
      padding: var(--space-6);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      margin: var(--space-4) 0;
    }

    pre {
      background: var(--color-surface-secondary);
      padding: var(--space-4);
      border-radius: var(--radius-md);
      overflow-x: auto;
      margin: var(--space-4) 0;
    }

    code {
      font-family: 'Courier New', monospace;
      font-size: var(--font-size-sm);
    }

    section {
      margin-bottom: var(--space-8);
    }

    h2 {
      margin-top: var(--space-8);
      margin-bottom: var(--space-4);
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-bold);
    }

    h3 {
      margin-top: var(--space-6);
      margin-bottom: var(--space-3);
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
    }

    ul {
      padding-left: var(--space-6);
    }

    li {
      margin-bottom: var(--space-2);
    }
  </style>
</DocLayout>

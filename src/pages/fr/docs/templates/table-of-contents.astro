---
import DocLayout from "@layouts/DocLayout.astro";
import { Code } from "astro:components";
import TOC from "@components/templates/docs/TableOfContents.astro";
import Alert from "@components/ui/Alert.astro";
import Badge from "@components/ui/Badge.astro";
import Card from "@components/ui/Card/Card.astro";
import CardHeader from "@components/ui/Card/CardHeader.astro";
import CardContent from "@components/ui/Card/CardContent.astro";
import Table from "@components/ui/Table/Table.astro";
import TableBody from "@components/ui/Table/TableBody.astro";
import TableCell from "@components/ui/Table/TableCell.astro";
import TableHead from "@components/ui/Table/TableHead.astro";
import TableHeader from "@components/ui/Table/TableHeader.astro";
import TableRow from "@components/ui/Table/TableRow.astro";

const sampleItems = [
  { label: "Introduction", href: "#introduction" },
  { label: "Installation", href: "#installation" },
  { label: "Utilisation", href: "#usage" },
  { label: "Props", href: "#props" },
  { label: "Exemples", href: "#examples" },
];
---

<DocLayout
  title="TableOfContents Template"
  description="Composant de navigation pour les pages de documentation"
  variant="initial"
>
  <h1 id="table-of-contents">TableOfContents</h1>

  <p>
    Le composant <code class="inline-code">TableOfContents</code> fournit une navigation coh√©rente et accessible 
    pour les pages de documentation. Il affiche une liste de liens vers les sections de la page avec un design 
    adapt√© √† chaque variant.
  </p>

  <TOC
    items={[
      { label: "Utilisation", href: "#utilisation" },
      { label: "Variants", href: "#variants" },
      { label: "Props", href: "#props" },
      { label: "Exemples", href: "#exemples" },
      { label: "Accessibilit√©", href: "#accessibilite" },
    ]}
    title="Table des mati√®res"
  />

  <h2 id="utilisation">Utilisation</h2>

  <pre><code>{`---
import TableOfContents from '@components/templates/docs/TableOfContents.astro';

const tocItems = [
  { label: "Introduction", href: "#introduction" },
  { label: "Installation", href: "#installation" },
  { label: "API", href: "#api" },
];
---

<TableOfContents items={tocItems} />`}</code></pre>

  <Alert variant="initial" status="info">
    <strong>‚úÖ Automatique :</strong> Le composant g√©n√®re automatiquement la navigation avec les ancres appropri√©es.
  </Alert>

  <h2 id="props">Props</h2>

  <Table variant="initial">
    <TableHead>
      <TableRow>
        <TableHeader>Prop</TableHeader>
        <TableHeader>Type</TableHeader>
        <TableHeader>D√©faut</TableHeader>
        <TableHeader>Description</TableHeader>
      </TableRow>
    </TableHead>
    <TableBody>
      <TableRow>
        <TableCell><code>items</code></TableCell>
        <TableCell><code>Array&lt;{'{'}label: string, href: string{'}'}&gt;</code></TableCell>
        <TableCell><code>[]</code></TableCell>
        <TableCell>Liste des √©l√©ments de navigation</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code>title</code></TableCell>
        <TableCell><code>string</code></TableCell>
        <TableCell><code>'Table of Contents'</code></TableCell>
        <TableCell>Titre du composant</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code>variant</code></TableCell>
        <TableCell><code>'initial' | 'retro' | 'modern' | 'futuristic'</code></TableCell>
        <TableCell><code>'initial'</code></TableCell>
        <TableCell>Style visuel du composant</TableCell>
      </TableRow>
      <TableRow>
        <TableCell><code>className</code></TableCell>
        <TableCell><code>string</code></TableCell>
        <TableCell><code>''</code></TableCell>
        <TableCell>Classes CSS suppl√©mentaires</TableCell>
      </TableRow>
    </TableBody>
  </Table>

  <h2 id="variants">Variants</h2>

  <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1.5rem;">
    <Badge>initial</Badge>
    <Badge>retro</Badge>
    <Badge>modern</Badge>
    <Badge>futuristic</Badge>
  </div>

  <h3>Initial</h3>
  <p>Design √©pur√© avec ombres subtiles.</p>

  <div style="max-width: 600px;">
    <TOC
      variant="initial"
      items={sampleItems}
      title="Table des mati√®res"
    />
  </div>

  <h3>Retro</h3>
  <p>Style r√©tro avec bordures √©paisses et typographie monospace.</p>

  <div style="max-width: 600px;">
    <TOC
      variant="retro"
      items={sampleItems}
      title="Table des mati√®res"
    />
  </div>

  <h3>Modern</h3>
  <p>Design moderne avec d√©grad√©s et effets glassmorphism.</p>

  <div style="max-width: 600px;">
    <TOC
      variant="modern"
      items={sampleItems}
      title="Table des mati√®res"
    />
  </div>

  <h3>Futuristic</h3>
  <p>Design futuriste avec n√©ons et effets lumineux anim√©s.</p>

  <div style="max-width: 600px;">
    <TOC
      variant="futuristic"
      items={sampleItems}
      title="Table des mati√®res"
    />
  </div>

  <h2 id="exemples">Exemples</h2>

  <h3>Table de contenu longue</h3>

  <Card>
    <CardHeader>
      <h4 style="margin: 0;">Documentation compl√®te</h4>
    </CardHeader>
    <CardContent>
      <TOC
        items={[
          { label: "Introduction", href: "#intro" },
          { label: "Installation", href: "#install" },
          { label: "Configuration", href: "#config" },
          { label: "Utilisation de base", href: "#basic" },
          { label: "Utilisation avanc√©e", href: "#advanced" },
          { label: "API Reference", href: "#api" },
          { label: "Props", href: "#props" },
          { label: "M√©thodes", href: "#methods" },
          { label: "√âv√©nements", href: "#events" },
          { label: "Exemples", href: "#examples" },
          { label: "Accessibilit√©", href: "#a11y" },
          { label: "Performance", href: "#performance" },
          { label: "FAQ", href: "#faq" },
        ]}
        title="Sommaire complet"
      />
    </CardContent>
  </Card>

  <h3>Titre personnalis√©</h3>

  <pre><code>{`<TableOfContents
  items={tocItems}
  title="üìö Dans cette page"
/>`}</code></pre>

  <div style="max-width: 600px;">
    <TOC
      items={sampleItems.slice(0, 4)}
      title="üìö Dans cette page"
    />
  </div>

  <h2 id="accessibilite">Accessibilit√©</h2>

  <Alert variant="initial" status="success">
    <strong>‚ôø Accessibilit√© :</strong>
    <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem;">
      <li>Utilise l'√©l√©ment s√©mantique <code>&lt;nav&gt;</code></li>
      <li>Attribut <code>aria-label</code> pour les lecteurs d'√©cran</li>
      <li>Focus visible sur tous les liens</li>
      <li>Navigation au clavier compl√®te</li>
      <li>Contraste suffisant pour tous les variants</li>
    </ul>
  </Alert>

  <h3>Fonctionnalit√©s</h3>
  <ul>
    <li>‚úÖ Navigation s√©mantique avec <code>&lt;nav&gt;</code></li>
    <li>‚úÖ Ic√¥ne d√©corative avec emoji</li>
    <li>‚úÖ Hover states avec transitions fluides</li>
    <li>‚úÖ Focus states accessibles</li>
    <li>‚úÖ Responsive design adaptatif</li>
    <li>‚úÖ Support du mode sombre</li>
    <li>‚úÖ 4 variants visuels uniques</li>
    <li>‚úÖ Animations personnalis√©es par variant</li>
    <li>‚úÖ Structure flexible pour tout contenu</li>
  </ul>

  <h3>Bonnes pratiques</h3>

  <Alert variant="initial" status="warning">
    <strong>üí° Conseils :</strong>
    <ul style="margin: 0.5rem 0 0 0; padding-left: 1.5rem;">
      <li>Placez la table des mati√®res en d√©but de contenu</li>
      <li>Utilisez des labels courts et descriptifs</li>
      <li>Assurez-vous que les ancres existent dans la page</li>
      <li>Limitez √† 8-10 items pour une meilleure lisibilit√©</li>
      <li>Utilisez le m√™me variant que la page de documentation</li>
    </ul>
  </Alert>
</DocLayout>

<style>
  .inline-code {
    background: var(--bg-inset);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm, 0.25rem);
    font-family: monospace;
    font-size: 0.9em;
    border: 1px solid var(--border-default);
  }

  code {
    font-family: monospace;
    font-size: 0.9em;
  }

  h1 {
    margin-bottom: 1rem;
  }

  h2 {
    margin: 3rem 0 1rem 0;
    padding-top: 1rem;
    border-top: 1px solid var(--border-default);
  }

  h2:first-of-type {
    margin-top: 2rem;
    border-top: none;
  }

  h3 {
    margin: 2rem 0 1rem 0;
  }

  p {
    margin: 1rem 0;
    line-height: 1.6;
  }

  ul {
    line-height: 1.8;
  }

  ul li {
    margin: 0.5rem 0;
  }
</style>
